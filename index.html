<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Melvindale Digital Display</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use a highly legible humanist sans-serif font (PT Sans) for clarity -->
    <style>
        /* Updated to PT Sans for excellent readability */
        @import url('https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap');

        /* The main container to enforce the 16:9 aspect ratio */
        .tv-frame {
            /* 16:9 ratio is 9 / 16 = 0.5625 = 56.25% padding-bottom */
            padding-bottom: 56.25%;
            height: 0;
            width: 100%;
            /* Limit the size slightly to keep it manageable in the canvas */
            max-width: 1600px;
            position: relative;
            /* Cardinal Red Background */
            background-color: #C41E3A;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin: 2rem auto;
            border-radius: 1.5rem;
            overflow: hidden;
        }

        .tv-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            /* Updated font family */
            font-family: 'PT Sans', sans-serif; 
            color: white; /* Default text color is white */
            padding: 2%; /* Inner padding for breathing room */
        }
        
        .clock-shadow {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.4), 0 0 10px rgba(255, 255, 255, 0.6);
        }
        /* Custom font size for the large clock, ensuring huge visibility (slightly reduced for AM/PM) */
        .text-huge-clock {
            font-size: 8rem; /* Reduced from 10rem to accommodate AM/PM */
        }
        @media (min-width: 640px) { /* sm breakpoint */
            .sm\:text-extra-huge-clock {
                font-size: 10rem; /* Reduced from 12rem to accommodate AM/PM */
            }
        }
    </style>
</head>
<body class="bg-gray-900 flex justify-center items-center min-h-screen">

    <div class="tv-frame">
        <div class="tv-content">

            <!-- Location Header (Increased to 4xl/6xl) -->
            <div class="text-4xl sm:text-6xl font-bold mb-6 text-white text-opacity-80">
                Melvindale, MI (EST)
            </div>

            <!-- Digital Clock Display (Increased significantly) -->
            <div id="time-display" class="clock-shadow text-huge-clock sm:text-extra-huge-clock font-extrabold tracking-tight mb-8 leading-none">
                00:00 PM
            </div>

            <!-- Date Display (Increased to 3xl/5xl) -->
            <div id="date-display" class="text-3xl sm:text-5xl font-light text-black mb-10 p-2 rounded-xl bg-white bg-opacity-90 shadow-2xl">
                Loading Date...
            </div>

            <!-- Weather Widget -->
            <div class="weather-widget w-full max-w-xl p-8 bg-white bg-opacity-10 backdrop-blur-sm rounded-xl shadow-2xl border border-white border-opacity-20 flex flex-col items-center">
                <div class="text-xl sm:text-2xl font-bold text-white mb-4 uppercase tracking-wider">Current Weather in Melvindale</div>
                <div class="flex items-center space-x-10">
                    <!-- Weather Icon & Temperature (Icon increased to 6xl, Temp to 7xl) -->
                    <div class="flex items-center space-x-4">
                        <span id="weather-icon" class="text-6xl">‚òÅÔ∏è</span>
                        <span id="temperature" class="text-7xl font-bold text-white">--¬∞F</span>
                    </div>

                    <!-- Details (Increased to 2xl) -->
                    <div class="flex flex-col space-y-3 text-2xl text-white text-opacity-90">
                        <div class="flex justify-between w-full">
                            <span class="font-semibold">Condition:</span>
                            <span id="condition">Cloudy</span>
                        </div>
                        <div class="flex justify-between w-full">
                            <span class="font-semibold">Humidity:</span>
                            <span id="humidity">--%</span>
                        </div>
                        <div class="flex justify-between w-full">
                            <span class="font-semibold">Wind:</span>
                            <span id="wind">-- mph</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Global object to hold the weather data
        let currentWeatherData = {
            temperature: "--¬∞F",
            condition: "Loading...",
            humidity: "--%",
            wind: "-- mph"
        };

        // Static function to fetch "live" weather data (simulated by using current search results)
        // In a real application, this function would call an external API.
        function fetchWeatherData() {
            console.log("Fetching new weather data...");
            
            // Current real-time data for Melvindale, MI (as of Nov 19, 2025 - Cloudy, 45¬∞F, 2 mph E, 49% humidity)
            currentWeatherData.temperature = "45¬∞F";
            currentWeatherData.condition = "Cloudy";
            currentWeatherData.humidity = "49%";
            currentWeatherData.wind = "2 mph E";
            
            // Re-render weather immediately after fetching
            updateWeatherElements();
            console.log("Weather data updated.");
        }
        
        // Function to update only the weather elements on the page
        function updateWeatherElements() {
            document.getElementById('temperature').textContent = currentWeatherData.temperature;
            document.getElementById('condition').textContent = currentWeatherData.condition;
            document.getElementById('humidity').textContent = currentWeatherData.humidity;
            document.getElementById('wind').textContent = currentWeatherData.wind;
            
            // Set icon based on condition (simple mapping)
            const iconElement = document.getElementById('weather-icon');
            const condition = currentWeatherData.condition.toLowerCase();
            if (condition.includes('sunny') || condition.includes('clear')) {
                iconElement.textContent = '‚òÄÔ∏è';
            } else if (condition.includes('cloudy') || condition.includes('overcast')) {
                iconElement.textContent = '‚òÅÔ∏è';
            } else if (condition.includes('rain') || condition.includes('drizzle')) {
                iconElement.textContent = 'üåßÔ∏è';
            } else if (condition.includes('snow') || condition.includes('sleet')) {
                iconElement.textContent = 'üå®Ô∏è';
            } else if (condition.includes('partly')) {
                iconElement.textContent = '‚õÖ';
            } else {
                iconElement.textContent = 'üå°Ô∏è';
            }
        }


        // Function to update the time and date
        function updateTimeAndDate() {
            const now = new Date();
            
            // Options for time in EST/EDT (America/Detroit timezone)
            const optionsTime = {
                hour: 'numeric', // Removes leading zero
                minute: '2-digit',
                hour12: true, 
                timeZone: 'America/Detroit'
            };
            
            // Options for date
            const optionsDate = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                timeZone: 'America/Detroit'
            };

            try {
                const timeString = now.toLocaleTimeString('en-US', optionsTime);
                document.getElementById('time-display').textContent = timeString;
                
                const dateString = now.toLocaleDateString('en-US', optionsDate);
                document.getElementById('date-display').textContent = dateString;
            } catch (error) {
                console.error("Error setting time/date:", error);
                document.getElementById('time-display').textContent = "ERROR";
                document.getElementById('date-display').textContent = "Timezone Error";
            }
        }

        // Main initialization function
        function initializeDisplay() {
            // 1. Initial load of time, date, and weather
            updateTimeAndDate();
            fetchWeatherData();
            
            // 2. Set interval for time and date (updates every second)
            setInterval(updateTimeAndDate, 1000); 

            // 3. Set interval for weather update (simulated live fetch every 5 minutes)
            // 5 minutes = 5 * 60 * 1000 milliseconds
            const weatherRefreshInterval = 5 * 60 * 1000; 
            setInterval(fetchWeatherData, weatherRefreshInterval);
            console.log(`Weather refresh set to every ${weatherRefreshInterval / 60000} minutes.`);
        }

        // Start the display
        initializeDisplay();
    </script>
</body>
</html>
